# ===============================================
# üé≠ Playwright Automation Server Configuration
# ===============================================
# Copy this file to .env and customize the values

# ===============================================
# üîê ADMIN ACCESS
# ===============================================
# Master API key with full administrative privileges
# WARNING: Change this in production!
ADMIN_API_KEY=admin-super-secret-key-2024

# ===============================================
# üöÄ EXECUTION LIMITS
# ===============================================
# Maximum number of scripts running simultaneously
MAX_CONCURRENT_EXECUTIONS=10

# Maximum number of scripts that can wait in queue
MAX_QUEUE_SIZE=100

# Maximum script size in bytes (50KB default)
MAX_SCRIPT_SIZE=50000

# Default script execution timeout in seconds
MAX_EXECUTION_TIME=300

# Emergency timeout multiplier for critical situations
EMERGENCY_TIMEOUT_MULTIPLIER=2

# ===============================================
# üé• VIDEO RECORDING SETTINGS
# ===============================================
# How many days to keep video recordings
VIDEO_RETENTION_DAYS=7

# Hour of day (0-23) to run automatic cleanup
VIDEO_CLEANUP_HOUR=2

# Video resolution settings (720p default)
VIDEO_WIDTH=1280
VIDEO_HEIGHT=720

# Video format and quality
VIDEO_FORMAT=webm
VIDEO_QUALITY=medium

# ===============================================
# ‚ö° RATE LIMITING
# ===============================================
# Global rate limit across all API keys (requests per minute)
GLOBAL_RATE_LIMIT_PER_MINUTE=60

# Default rate limit per individual API key (requests per minute)
PER_KEY_RATE_LIMIT_PER_MINUTE=30

# ===============================================
# üóÑÔ∏è DATABASE CONFIGURATION
# ===============================================
# SQLite database file path
DATABASE_PATH=./data/database.db

# Database backup settings
DB_BACKUP_ENABLED=true
DB_BACKUP_INTERVAL_HOURS=24
DB_BACKUP_RETENTION_DAYS=30

# ===============================================
# üåê BROWSER POOL SETTINGS
# ===============================================
# Number of browsers to keep ready
BROWSER_POOL_SIZE=10

# Number of pages to warm up in each browser
BROWSER_WARMUP_PAGES=3

# Browser launch timeout in seconds
BROWSER_LAUNCH_TIMEOUT=30

# Browser executable path (auto-detect if empty)
BROWSER_EXECUTABLE_PATH=

# ===============================================
# üìä DASHBOARD SETTINGS
# ===============================================
# Dashboard refresh interval in seconds
DASHBOARD_REFRESH_INTERVAL=5

# Enable dashboard metrics caching
DASHBOARD_CACHE_ENABLED=true
DASHBOARD_CACHE_TTL=30

# ===============================================
# üîó WEBHOOK CONFIGURATION
# ===============================================
# Maximum webhook retry attempts
MAX_WEBHOOK_RETRIES=3

# Webhook timeout in seconds
WEBHOOK_TIMEOUT=10

# Webhook retry delay in seconds
WEBHOOK_RETRY_DELAY=5

# ===============================================
# üíª RESOURCE LIMITS
# ===============================================
# Maximum memory per script execution in MB
MAX_MEMORY_MB_PER_EXECUTION=512

# Maximum CPU percentage per script execution
MAX_CPU_PERCENT_PER_EXECUTION=50

# System memory warning threshold (percentage)
MEMORY_WARNING_THRESHOLD=80

# Disk space warning threshold (percentage)
DISK_WARNING_THRESHOLD=90

# ===============================================
# üõ°Ô∏è SECURITY SETTINGS
# ===============================================
# Allowed domains for CORS (* for all)
ALLOWED_DOMAINS=*

# Script execution timeout grace period in seconds
SCRIPT_TIMEOUT_GRACE_PERIOD=30

# Enable script security scanning
SCRIPT_SECURITY_SCAN=true

# Maximum file upload size in bytes
MAX_UPLOAD_SIZE=10485760

# ===============================================
# üìù LOGGING CONFIGURATION
# ===============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (empty for console only)
LOG_FILE_PATH=./logs/app.log

# Log rotation settings
LOG_MAX_FILE_SIZE=10MB
LOG_BACKUP_COUNT=5

# Enable structured logging (JSON format)
STRUCTURED_LOGGING=true

# ===============================================
# üìà MONITORING & METRICS
# ===============================================
# Enable Prometheus metrics endpoint
METRICS_ENABLED=true

# Metrics collection interval in seconds
METRICS_INTERVAL=15

# Health check timeout in seconds
HEALTH_CHECK_TIMEOUT=10

# ===============================================
# üåç SERVER CONFIGURATION
# ===============================================
# Server host and port
HOST=0.0.0.0
PORT=8000

# Number of worker processes (0 for auto-detect)
WORKERS=1

# Enable server reload on file changes (development only)
RELOAD=false

# ===============================================
# üîÑ CLEANUP & MAINTENANCE
# ===============================================
# Enable automatic cleanup service
CLEANUP_ENABLED=true

# Cleanup check interval in hours
CLEANUP_INTERVAL_HOURS=1

# Temporary files retention in hours
TEMP_FILES_RETENTION_HOURS=24

# ===============================================
# üß™ DEVELOPMENT SETTINGS
# ===============================================
# Enable debug mode (development only)
DEBUG=false

# Show detailed error traces
SHOW_ERROR_TRACES=false

# Enable API documentation
DOCS_ENABLED=true

# Enable interactive API documentation
REDOC_ENABLED=true

# ===============================================
# üì° EXTERNAL SERVICES
# ===============================================
# Custom user agent for requests
DEFAULT_USER_AGENT=PlaywrightAutomationServer/1.0

# Request timeout for external services
EXTERNAL_REQUEST_TIMEOUT=30

# ===============================================
# üéØ TEMPLATE SYSTEM
# ===============================================
# Enable custom templates
CUSTOM_TEMPLATES_ENABLED=true

# Template storage directory
TEMPLATES_DIRECTORY=./templates

# Maximum template size in bytes
MAX_TEMPLATE_SIZE=100000

# ===============================================
# üö® ALERTING
# ===============================================
# Enable email notifications
EMAIL_NOTIFICATIONS=false
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your-email@gmail.com
EMAIL_PASSWORD=your-app-password

# Slack webhook for notifications
SLACK_WEBHOOK_URL=

# Discord webhook for notifications
DISCORD_WEBHOOK_URL=

# ===============================================
# üîß ADVANCED SETTINGS
# ===============================================
# Enable experimental features
EXPERIMENTAL_FEATURES=false

# Custom script validation rules
CUSTOM_VALIDATION_RULES=./validation_rules.json

# Plugin directory
PLUGINS_DIRECTORY=./plugins

# Cache directory
CACHE_DIRECTORY=./cache

# ===============================================
# üè≠ PRODUCTION SETTINGS
# ===============================================
# Environment: development, staging, production
ENVIRONMENT=development

# Enable SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem

# Reverse proxy settings
PROXY_PREFIX=
TRUSTED_PROXIES=127.0.0.1

# ===============================================
# üßÆ PERFORMANCE TUNING
# ===============================================
# Connection pool settings
DB_CONNECTION_POOL_SIZE=20
DB_CONNECTION_POOL_OVERFLOW=10

# Request timeout settings
REQUEST_TIMEOUT=300
KEEPALIVE_TIMEOUT=65

# Thread pool settings
THREAD_POOL_SIZE=100

# ===============================================
# üì¶ BACKUP & RESTORE
# ===============================================
# Backup directory
BACKUP_DIRECTORY=./backups

# Enable automated backups
AUTO_BACKUP_ENABLED=true

# Backup compression
BACKUP_COMPRESSION=gzip
